# --- vmsingle (The Database) ---
vmsingle:
  spec:
    retentionPeriod: "30d"
    resources:
      requests:
        cpu: "250m"
        memory: "512Mi"
      limits:
        memory: "1536Mi"

# --- Scrapers Configuration ---
kubelet:
  enabled: true

kubeProxy:
  enabled: true

kubeControllerManager:
  enabled: true

kubeEtcd:
  enabled: true

kubeScheduler:
  enabled: true

kubeStateMetrics:
  enabled: true

# --- Rules Configuration ---
defaultRules:
  create: true
  rules:
    etcd: true
    general: true
    k8s: true
    kubeApiserver: true
    kubeApiserverAvailability: true
    kubeApiserverSlos: true
    kubelet: true
    kubeProxy: true
    kubePrometheusGeneral: true
    kubePrometheusNodeRecording: true
    kubernetesAbsent: true
    kubernetesApps: true
    kubernetesResources: true
    kubernetesStorage: true
    kubernetesSystem: true
    network: true
    node: true
    vmagent: true
    vmsingle: true
    vm-health: true

grafana:
  enabled: true
  plugins:
    - victoriametrics-metrics-datasource
    - victoriametrics-logs-datasource

  persistence:
    enabled: true
    size: 5Gi

  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      memory: "512Mi"

# --- vmagent (The Scraper) ---
vmagent:
  spec:
    resources:
      requests:
        cpu: "100m"
        memory: "256Mi"
      limits:
        memory: "1024Mi"

#defaultScrapeService:
#  namespace: monitoring

victoria-metrics-operator:
  admissionWebhooks:
    certManager:
      enabled: true
      issuerName: letsencrypt-stg
      issuerKind: ClusterIssuer